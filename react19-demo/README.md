# ğŸš€ SaaS Admin Classic

> åŸºäº React 19 + Ant Design 6 + Vite 7 çš„ä¼ä¸šçº§åå°ç®¡ç†ç³»ç»Ÿæ¨¡æ¿

---

## ğŸ“– æ–°æ‰‹å…¥é—¨æŒ‡å—

### ç¬¬ä¸€æ­¥ï¼šå®‰è£…ä¾èµ–

```bash
pnpm install
# æˆ–è€… npm install
```

### ç¬¬äºŒæ­¥ï¼šå¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
pnpm dev
# æˆ–è€… npm run dev
```

æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:3000

### ç¬¬ä¸‰æ­¥ï¼šå¼€å§‹å¼€å‘

- ç™»å½•é¡µï¼š`/login`
- ä»ªè¡¨ç›˜ï¼š`/`ï¼ˆéœ€è¦ç™»å½•ï¼‰

---

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§ä¸€è§ˆ

| ç‰¹æ€§                | è¯´æ˜                   | æ”¶ç›Š             |
| ------------------- | ---------------------- | ---------------- |
| âš¡ **æ‡’åŠ è½½**       | é¡µé¢æŒ‰éœ€åŠ è½½           | é¦–å±é€Ÿåº¦å¿« 50%+  |
| ğŸ” **è·¯ç”±é‰´æƒ**     | AuthGuard è‡ªåŠ¨æ‹¦æˆª     | å®‰å…¨å¯é          |
| ğŸ¨ **ä¸»é¢˜åˆ‡æ¢**     | äº®/æš—è‰²ä¸»é¢˜ + CSS å˜é‡ | å®æ—¶åˆ‡æ¢ä¸»é¢˜     |
| ğŸ“¦ **çŠ¶æ€ç®¡ç†**     | Zustand + æŒä¹…åŒ–       | è½»é‡çº§ã€æ—  Redux |
| ğŸ›¡ï¸ **TypeScript**   | ä¸¥æ ¼æ¨¡å¼ç±»å‹æ£€æŸ¥       | å‡å°‘ Bug         |
| ğŸ”¥ **Fast Refresh** | Vite æé€Ÿçƒ­æ›´æ–°        | å¼€å‘ä½“éªŒå¥½       |
| ğŸ·ï¸ **è·¯ç”±æ ‡ç­¾é¡µ**   | RouteTabs å¤šæ ‡ç­¾ç®¡ç†   | å·¥ä½œæµç¨‹æ›´é«˜æ•ˆ   |
| ğŸŒ **å…¨å±€ UI æ³¨å…¥** | ä»»æ„æ–‡ä»¶ä½¿ç”¨ message   | çªç ´ Hooks é™åˆ¶  |

---

## ğŸ›  æŠ€æœ¯æ ˆè¯¦è§£

### æ ¸å¿ƒæ¡†æ¶

| ä¾èµ–                           | ç‰ˆæœ¬    | è¯´æ˜             |
| ------------------------------ | ------- | ---------------- |
| **React**                      | ^19.2.0 | æœ€æ–°ç¨³å®šç‰ˆ       |
| **Ant Design**                 | ^6.1.1  | ä¼ä¸šçº§ UI ç»„ä»¶åº“ |
| **@ant-design/pro-components** | ^2.8.10 | é«˜çº§ä¸šåŠ¡ç»„ä»¶     |
| **Vite**                       | ^7.3.0  | æé€Ÿæ„å»ºå·¥å…·     |
| **React Router**               | ^7.1.0  | å£°æ˜å¼è·¯ç”±       |

### çŠ¶æ€ç®¡ç† & å·¥å…·

| ä¾èµ–        | ç‰ˆæœ¬     | è¯´æ˜                    |
| ----------- | -------- | ----------------------- |
| **Zustand** | ^5.0.3   | è½»é‡çº§çŠ¶æ€ç®¡ç†          |
| **Axios**   | ^1.7.9   | HTTP è¯·æ±‚å°è£…           |
| **ahooks**  | ^3.8.1   | React Hooks å·¥å…·åº“      |
| **dayjs**   | ^1.11.13 | æ—¥æœŸå¤„ç†ï¼ˆæ›¿ä»£ momentï¼‰ |
| **ECharts** | ^5.6.0   | å›¾è¡¨å¯è§†åŒ–              |

### ä»£ç è´¨é‡

| ä¾èµ–           | ç‰ˆæœ¬     | è¯´æ˜               |
| -------------- | -------- | ------------------ |
| **TypeScript** | ^5.7.2   | ç±»å‹å®‰å…¨           |
| **ESLint**     | ^9.18.0  | ä»£ç è§„èŒƒæ£€æŸ¥       |
| **Prettier**   | ^3.4.2   | ä»£ç æ ¼å¼åŒ–         |
| **Stylelint**  | ^16.12.0 | CSS æ ·å¼æ£€æŸ¥       |
| **Husky**      | ^9.1.7   | Git æäº¤å‰è‡ªåŠ¨æ£€æŸ¥ |
| **Vitest**     | ^2.1.8   | å•å…ƒæµ‹è¯•æ¡†æ¶       |

---

## ğŸ“‚ ç›®å½•ç»“æ„ï¼ˆé‡ç‚¹ç†è§£ï¼‰

```
react19-demo/
â”œâ”€â”€ ğŸ“„ index.html               # ã€å…¥å£ã€‘HTML æ¨¡æ¿
â”œâ”€â”€ ğŸ“„ package.json             # ã€é…ç½®ã€‘é¡¹ç›®ä¾èµ–å’Œè„šæœ¬
â”œâ”€â”€ ğŸ“„ vite.config.ts           # ã€é…ç½®ã€‘Vite æ„å»ºé…ç½®
â”œâ”€â”€ ğŸ“„ tsconfig.json            # ã€é…ç½®ã€‘TypeScript é…ç½®
â”œâ”€â”€ ğŸ“„ eslint.config.js         # ã€é…ç½®ã€‘ESLint ä»£ç è§„èŒƒ
â”œâ”€â”€ ğŸ“„ .prettierrc              # ã€é…ç½®ã€‘Prettier æ ¼å¼åŒ–
â”œâ”€â”€ ğŸ“„ .stylelintrc.json        # ã€é…ç½®ã€‘Stylelint æ ·å¼æ£€æŸ¥
â”œâ”€â”€ ğŸ“„ .env.development         # ã€ç¯å¢ƒã€‘å¼€å‘ç¯å¢ƒå˜é‡
â”œâ”€â”€ ğŸ“„ .env.production          # ã€ç¯å¢ƒã€‘ç”Ÿäº§ç¯å¢ƒå˜é‡
â”‚
â”œâ”€â”€ ğŸ“ public/                  # ã€é™æ€èµ„æºã€‘ä¸å‚ä¸ç¼–è¯‘
â”‚
â””â”€â”€ ğŸ“ src/                     # ã€æºä»£ç ã€‘ä¸»è¦å¼€å‘ç›®å½•
    â”œâ”€â”€ ğŸ“„ main.tsx             # ã€å…¥å£ã€‘ç¨‹åºå¯åŠ¨æ–‡ä»¶
    â”œâ”€â”€ ğŸ“„ App.tsx              # ã€æ ¹ç»„ä»¶ã€‘è·¯ç”± + å…¨å±€åˆå§‹åŒ–
    â”œâ”€â”€ ğŸ“„ env.d.ts             # ã€ç±»å‹ã€‘ç¯å¢ƒå˜é‡ç±»å‹å®šä¹‰
    â”œâ”€â”€ ğŸ“„ vite-env.d.ts        # ã€ç±»å‹ã€‘Vite ç¯å¢ƒç±»å‹
    â”‚
    â”œâ”€â”€ ğŸ“ assets/              # ã€é™æ€èµ„æºã€‘å‚ä¸ç¼–è¯‘çš„èµ„æº
    â”‚   â””â”€â”€ images/             # - å›¾ç‰‡èµ„æº
    â”‚
    â”œâ”€â”€ ğŸ“ components/          # ã€é€šç”¨ç»„ä»¶ã€‘å¯å¤ç”¨ç»„ä»¶
    â”‚   â”œâ”€â”€ AuthGuard/          # - è·¯ç”±é‰´æƒå®ˆå«
    â”‚   â”œâ”€â”€ HeaderActions/      # - å¤´éƒ¨æ“ä½œæ ï¼ˆç”¨æˆ·/é€šçŸ¥ï¼‰
    â”‚   â”œâ”€â”€ Loading/            # - åŠ è½½åŠ¨ç”»
    â”‚   â””â”€â”€ RouteTabs/          # - è·¯ç”±æ ‡ç­¾é¡µ
    â”‚
    â”œâ”€â”€ ğŸ“ hooks/               # ã€è‡ªå®šä¹‰ Hooksã€‘å…¬å…± Hook
    â”‚
    â”œâ”€â”€ ğŸ“ layouts/             # ã€å¸ƒå±€ç»„ä»¶ã€‘é¡µé¢æ¡†æ¶
    â”‚   â”œâ”€â”€ BasicLayout/        # - åŸºç¡€å¸ƒå±€ï¼ˆä¾§è¾¹æ  + å¤´éƒ¨ + å†…å®¹åŒºï¼‰
    â”‚   â””â”€â”€ GlobalLayout/       # - å…¨å±€å¸ƒå±€ï¼ˆä¸»é¢˜ + é…ç½®ï¼‰
    â”‚
    â”œâ”€â”€ ğŸ“ pages/               # ã€é¡µé¢ç»„ä»¶ã€‘ä¸šåŠ¡é¡µé¢
    â”‚   â”œâ”€â”€ 404/                # - 404 é”™è¯¯é¡µ
    â”‚   â”œâ”€â”€ Dashboard/          # - ä»ªè¡¨ç›˜é¦–é¡µ
    â”‚   â”œâ”€â”€ Login/              # - ç™»å½•é¡µ
    â”‚   â”œâ”€â”€ Pay/                # - æ”¯ä»˜æ¨¡å—
    â”‚   â””â”€â”€ System/             # - ç³»ç»Ÿç®¡ç†æ¨¡å—
    â”‚       â”œâ”€â”€ Setting/        #   - ç³»ç»Ÿè®¾ç½®
    â”‚       â””â”€â”€ User/           #   - ç”¨æˆ·ç®¡ç†
    â”‚
    â”œâ”€â”€ ğŸ“ router/              # ã€è·¯ç”±é…ç½®ã€‘æ‰€æœ‰è·¯ç”±å®šä¹‰
    â”‚   â”œâ”€â”€ index.tsx           # - è·¯ç”±å…¥å£
    â”‚   â”œâ”€â”€ config.tsx          # - è·¯ç”±é…ç½®ï¼ˆæ‡’åŠ è½½ + åµŒå¥—ï¼‰
    â”‚   â””â”€â”€ utils.tsx           # - è·¯ç”±å·¥å…·å‡½æ•°
    â”‚
    â”œâ”€â”€ ğŸ“ services/            # ã€API æœåŠ¡ã€‘åç«¯æ¥å£å°è£…
    â”‚   â””â”€â”€ user.ts             # - ç”¨æˆ·ç›¸å…³ API
    â”‚
    â”œâ”€â”€ ğŸ“ store/               # ã€çŠ¶æ€ç®¡ç†ã€‘å…¨å±€çŠ¶æ€
    â”‚   â”œâ”€â”€ tabs.ts             # - æ ‡ç­¾é¡µçŠ¶æ€
    â”‚   â”œâ”€â”€ theme.ts            # - ä¸»é¢˜çŠ¶æ€
    â”‚   â””â”€â”€ user.ts             # - ç”¨æˆ·çŠ¶æ€
    â”‚
    â”œâ”€â”€ ğŸ“ styles/              # ã€æ ·å¼æ–‡ä»¶ã€‘å…¨å±€æ ·å¼
    â”‚   â”œâ”€â”€ global.scss         # - å…¨å±€ CSS
    â”‚   â”œâ”€â”€ theme.scss          # - ä¸»é¢˜æ ·å¼ï¼ˆäº®/æš—è‰²ï¼‰
    â”‚   â””â”€â”€ variables.scss      # - SCSS å˜é‡
    â”‚
    â”œâ”€â”€ ğŸ“ test/                # ã€æµ‹è¯•æ–‡ä»¶ã€‘å•å…ƒæµ‹è¯•
    â”‚   â””â”€â”€ setup.ts            # - æµ‹è¯•ç¯å¢ƒé…ç½®
    â”‚
    â””â”€â”€ ğŸ“ utils/               # ã€å·¥å…·å‡½æ•°ã€‘å…¬å…±æ–¹æ³•
        â”œâ”€â”€ globalUI.ts         # - å…¨å±€ UI å·¥å…·ï¼ˆmessage/modalï¼‰
        â”œâ”€â”€ lazyLoad.tsx        # - æ‡’åŠ è½½åŒ…è£¹å™¨
        â””â”€â”€ request.ts          # - Axios å°è£…ï¼ˆæ ¸å¿ƒï¼‰
```

---

## ğŸ”¥ æ ¸å¿ƒæ¶æ„è§£æ

### 1ï¸âƒ£ å…¨å±€ UI æ³¨å…¥ï¼ˆçªç ´ Hooks é™åˆ¶ï¼‰

```typescript
// src/utils/globalUI.ts - å®šä¹‰å…¨å±€ UI å®ä¾‹
export const globalUI = {
  message: {...},  // Antd message
  modal: {...},    // Antd modal
  navigate: () => {}  // Router navigate
}

export const setGlobalUI = (message, modal, navigate) => {
  globalUI.message = message  // æ³¨å…¥å®ä¾‹
  globalUI.modal = modal
  globalUI.navigate = navigate
}
```

**ä½¿ç”¨åœºæ™¯**ï¼šåœ¨ä»»æ„ `.ts` æ–‡ä»¶ä¸­ä½¿ç”¨ `globalUI.message.error('xxx')`

---

### 2ï¸âƒ£ è¯·æ±‚å°è£…ï¼ˆsrc/utils/request.tsï¼‰

```typescript
// å…¨å±€å•ä¾‹
const instance = axios.create({
  baseURL: import.meta.env.VITE_API_BASE_URL,
  timeout: 30000,
})

// è¯·æ±‚æ‹¦æˆªï¼šè‡ªåŠ¨æ·»åŠ  Token
instance.interceptors.request.use((config) => {
  const token = getToken()
  if (token) config.headers.Authorization = `Bearer ${token}`
  return config
})

// å“åº”æ‹¦æˆªï¼š401 é˜²æŠ–å¼¹çª—
let isRelogging = false
if (error.response?.status === 401 && !isRelogging) {
  isRelogging = true
  modal.warning({ title: 'ç™»å½•è¿‡æœŸ', onOk: () => navigate('/login') })
}
```

**å…³é”®ç‚¹**ï¼š

- âœ… å•ä¾‹æ¨¡å¼ï¼šTCP è¿æ¥å¤ç”¨
- âœ… é˜²æŠ– 401ï¼š10 ä¸ªå¹¶å‘è¯·æ±‚åªå¼¹ 1 æ¬¡

---

### 3ï¸âƒ£ è·¯ç”±è®¾è®¡ï¼ˆé…ç½®å¼ + æ‡’åŠ è½½ï¼‰

```typescript
// src/router/config.tsx - ç»Ÿä¸€è·¯ç”±é…ç½®
export const menuRoutes: AppRouteConfig[] = [
  {
    path: '/dashboard',
    name: 'ä»ªè¡¨ç›˜',
    icon: <DashboardOutlined />,
    component: lazy(() => import('@/pages/Dashboard')),
  },
  {
    path: '/system',
    name: 'ç³»ç»Ÿç®¡ç†',
    icon: <SettingOutlined />,
    children: [
      { path: 'user', name: 'ä¸ªäººä¸­å¿ƒ', component: lazy(() => import('@/pages/System/User')) },
      { path: 'setting', name: 'è´¦å·è®¾ç½®', component: lazy(() => import('@/pages/System/Setting')) },
    ],
  },
]
```

**å…³é”®ç‚¹**ï¼š

- âœ… é…ç½®å¼è·¯ç”±ï¼šèœå•ä¸è·¯ç”±ç»Ÿä¸€ç®¡ç†
- âœ… `lazy()` æ‡’åŠ è½½ï¼šè‡ªåŠ¨ä»£ç åˆ†å‰²
- âœ… AuthGuardï¼šè‡ªåŠ¨æ‹¦æˆªæœªç™»å½•ç”¨æˆ·

---

### 4ï¸âƒ£ çŠ¶æ€ç®¡ç†ï¼ˆZustand + æŒä¹…åŒ–ï¼‰

```typescript
// src/store/user.ts
export const useUserStore = create<UserStore>()(
  persist(
    (set) => ({
      userInfo: null,
      setUserInfo: (info) => set({ userInfo: info }),
      clearUserInfo: () => set({ userInfo: null }),
    }),
    { name: 'user-storage' }, // è‡ªåŠ¨æŒä¹…åŒ–åˆ° localStorage
  ),
)

// ç»„ä»¶å¤–è·å–çŠ¶æ€
export const getToken = () => useUserStore.getState().userInfo?.token
```

**æ”¶ç›Š**ï¼š

- âœ… æ—  Redux æ ·æ¿ä»£ç 
- âœ… è‡ªåŠ¨æŒä¹…åŒ–
- âœ… æ”¯æŒç»„ä»¶å¤–è®¿é—®

---

### 5ï¸âƒ£ æ ·å¼ç®¡ç†ï¼ˆSCSS + ä¸»é¢˜ï¼‰

```scss
// src/styles/variables.scss
$primary-color: #1890ff;
$spacing-md: 16px;
$border-radius-base: 4px;
$box-shadow-base: 0 2px 8px rgba(0, 0, 0, 0.15);
```

```typescript
// src/main.tsx - Ant Design ä¸»é¢˜é…ç½®
<ConfigProvider
  locale={zhCN}
  theme={{
    token: { colorPrimary: '#1677ff' },
    cssVar: true,
  }}
>
```

**æ”¶ç›Š**ï¼šä¸€å¤„ä¿®æ”¹ï¼Œå…¨å±€ç”Ÿæ•ˆ

---

## ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤

| å‘½ä»¤              | è¯´æ˜                             |
| ----------------- | -------------------------------- |
| `pnpm dev`        | å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆé»˜è®¤ 3000 ç«¯å£ï¼‰ |
| `pnpm build`      | ç”Ÿäº§æ„å»ºï¼ˆtsc + vite buildï¼‰     |
| `pnpm preview`    | é¢„è§ˆç”Ÿäº§æ„å»ºç»“æœ                 |
| `pnpm lint`       | ESLint ä»£ç æ£€æŸ¥                  |
| `pnpm lint:fix`   | è‡ªåŠ¨ä¿®å¤ ESLint é”™è¯¯             |
| `pnpm lint:style` | Stylelint æ ·å¼æ£€æŸ¥               |
| `pnpm format`     | Prettier æ ¼å¼åŒ–ä»£ç               |
| `pnpm type-check` | TypeScript ç±»å‹æ£€æŸ¥              |
| `pnpm test`       | è¿è¡Œ Vitest å•å…ƒæµ‹è¯•             |
| `pnpm prepare`    | å®‰è£… Husky Git hooks             |

> **Node ç‰ˆæœ¬è¦æ±‚**ï¼š`>= 20.0.0`

---

## ğŸ“ å­¦ä¹ è·¯å¾„å»ºè®®

### æ–°æ‰‹å…¥é—¨

1. å¯åŠ¨é¡¹ç›®ï¼š`pnpm install && pnpm dev`
2. ç†è§£å…¥å£ï¼š`src/main.tsx` â†’ `src/App.tsx`
3. çœ‹æ‡‚è·¯ç”±ï¼š`src/router/config.tsx`
4. ç†è§£é‰´æƒï¼š`src/components/AuthGuard/index.tsx`
5. å­¦ä¹ è¯·æ±‚ï¼š`src/utils/request.ts` + `src/utils/globalUI.ts`

### è¿›é˜¶å¼€å‘

| ä»»åŠ¡                | æ“ä½œæ­¥éª¤                                                           |
| ------------------- | ------------------------------------------------------------------ |
| **æ·»åŠ æ–°é¡µé¢**      | 1. åœ¨ `src/pages/` åˆ›å»ºç»„ä»¶ 2. åœ¨ `src/router/config.tsx` æ·»åŠ è·¯ç”± |
| **å°è£…æ–° API**      | åœ¨ `src/services/` åˆ›å»ºæœåŠ¡æ–‡ä»¶                                    |
| **æ·»åŠ çŠ¶æ€ç®¡ç†**    | åœ¨ `src/store/` åˆ›å»º Zustand store                                 |
| **å…¨å±€æ ·å¼å˜é‡**    | åœ¨ `src/styles/variables.scss` æ·»åŠ å˜é‡                            |
| **æ·»åŠ è‡ªå®šä¹‰ Hook** | åœ¨ `src/hooks/` åˆ›å»º Hook æ–‡ä»¶                                     |

---

## âš ï¸ å¸¸è§é—®é¢˜

<details>
<summary><b>Q1: é¦–æ¬¡è¿è¡ŒæŠ¥é”™ï¼Ÿ</b></summary>

åˆ é™¤ `node_modules` å’Œ `pnpm-lock.yaml`ï¼Œé‡æ–° `pnpm install`

</details>

<details>
<summary><b>Q2: ç™»å½•åç™½å±ï¼Ÿ</b></summary>

æ£€æŸ¥æµè§ˆå™¨ Console é”™è¯¯ï¼Œé€šå¸¸æ˜¯ token æ ¼å¼æˆ– API åœ°å€é—®é¢˜

</details>

<details>
<summary><b>Q3: å¦‚ä½•ä¿®æ”¹ä¸»é¢˜è‰²ï¼Ÿ</b></summary>

1. ä¿®æ”¹ `src/main.tsx` ä¸­ `ConfigProvider` çš„ `token.colorPrimary`
2. ä¿®æ”¹ `src/styles/variables.scss` ä¸­çš„ `$primary-color`
</details>

<details>
<summary><b>Q4: å¦‚ä½•åœ¨éç»„ä»¶æ–‡ä»¶ä¸­ä½¿ç”¨ message/modalï¼Ÿ</b></summary>

ä½¿ç”¨ `globalUI`ï¼š

```typescript
import { globalUI } from '@/utils/globalUI'

globalUI.message.success('æ“ä½œæˆåŠŸ')
globalUI.modal.warning({ title: 'æç¤º', content: '...' })
```

</details>

<details>
<summary><b>Q5: å¦‚ä½•æ·»åŠ æ–°é¡µé¢ï¼Ÿ</b></summary>

1. åœ¨ `src/pages/` åˆ›å»ºé¡µé¢ç»„ä»¶
2. åœ¨ `src/router/config.tsx` æ·»åŠ è·¯ç”±é…ç½®
3. çƒ­æ›´æ–°è‡ªåŠ¨ç”Ÿæ•ˆï¼Œæ— éœ€é‡å¯
</details>

---

## ğŸ“ ç¯å¢ƒå˜é‡é…ç½®

```bash
# .env.development (å¼€å‘ç¯å¢ƒ)
VITE_API_BASE_URL=http://adminclub.mz.com:32731/mg
VITE_APP_TITLE=SaaS Admin Classic

# .env.production (ç”Ÿäº§ç¯å¢ƒ)
VITE_API_BASE_URL=https://api.production.com
VITE_APP_TITLE=SaaS Admin Classic
```

**ä½¿ç”¨æ–¹å¼**ï¼š

```typescript
const apiUrl = import.meta.env.VITE_API_BASE_URL
const title = import.meta.env.VITE_APP_TITLE
```

---

## ğŸ“š æ¨èæ–‡æ¡£

- [React 19 å®˜æ–¹æ–‡æ¡£](https://react.dev)
- [Ant Design 6 æ–‡æ¡£](https://ant.design)
- [Vite å®˜æ–¹æ–‡æ¡£](https://vitejs.dev)
- [React Router æ–‡æ¡£](https://reactrouter.com)

---

## ï¿½ License

MIT

---

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ Starï¼**
